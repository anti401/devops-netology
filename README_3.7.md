devops-netology 
### Домашнее задание к занятию «3.7. Компьютерные сети, лекция 2»  

#### 1. Проверьте список доступных сетевых интерфейсов на вашем компьютере. Какие команды есть для этого в Linux и в Windows?
`ip link` в Ubuntu, `ipconfig` в Windows

#### 2. Какой протокол используется для распознавания соседа по сетевому интерфейсу? Какой пакет и команды есть в Linux для этого?
Протокол `LLDP`. Пакет `lldpd`. Команды `lldpctl` и `lldpcli`.

#### 3. Какая технология используется для разделения L2 коммутатора на несколько виртуальных сетей? Какой пакет и команды есть в Linux для этого? Приведите пример конфига.
VLAN (Virtual Local Area Network). Пакет `vlan` для Ubuntu.  
Пример настроек [Netplan](https://netplan.io/examples):

    network:
      version: 2
      renderer: networkd
      ethernets:
          mainif:
              match:
                  macaddress: "de:ad:be:ef:ca:fe"
              set-name: mainif
              addresses: [ "10.3.0.5/23" ]
              nameservers:
                  addresses: [ "8.8.8.8", "8.8.4.4" ]
                  search: [ example.com ]
              routes:
                  - to: default
                    via: 10.3.0.1
      vlans:
          vlan15:
              id: 15
              link: mainif
              addresses: [ "10.3.99.5/24" ]
          vlan10:
              id: 10
              link: mainif
              addresses: [ "10.3.98.5/24" ]
              nameservers:
                  addresses: [ "127.0.0.1" ]
                  search: [ domain1.example.com, domain2.example.com ]

#### 4. Какие типы агрегации интерфейсов есть в Linux? Какие опции есть для балансировки нагрузки? Приведите пример конфига.
Типы агрегации - `Bonding` и `Teaming`. 
Режимы балансировки для `Bonding`: 
* balance-rr
* active-backup
* balance-xor
* broadcast
* 802.3ad
* balance-tlb
* balance-alb

Пример настроек [Netplan](https://netplan.io/examples):

    network:
      version: 2
      renderer: networkd
      bonds:
          bond0:
              dhcp4: yes
              interfaces:
                  - enp3s0
                  - enp4s0
              parameters:
                  mode: active-backup
                  primary: enp3s0

#### 5. Сколько IP адресов в сети с маской `/29`? Сколько `/29` подсетей можно получить из сети с маской `/24`. Приведите несколько примеров `/29` подсетей внутри сети `10.10.10.0/24`.
В сети с маской `/29` восемь адресов - шесть узловых, адрес сети и broadcast.  
Сеть `/24` можно разбить на 32 сети `/29`:

    vagrant@vagrant:~$ ipcalc 10.10.10.0/24 /29 | grep Network
    Network:   10.10.10.0/24        00001010.00001010.00001010. 00000000
    Network:   10.10.10.0/29        00001010.00001010.00001010.00000 000
    Network:   10.10.10.8/29        00001010.00001010.00001010.00001 000
    Network:   10.10.10.16/29       00001010.00001010.00001010.00010 000
    Network:   10.10.10.24/29       00001010.00001010.00001010.00011 000
    Network:   10.10.10.32/29       00001010.00001010.00001010.00100 000
    Network:   10.10.10.40/29       00001010.00001010.00001010.00101 000
    Network:   10.10.10.48/29       00001010.00001010.00001010.00110 000
    Network:   10.10.10.56/29       00001010.00001010.00001010.00111 000
    Network:   10.10.10.64/29       00001010.00001010.00001010.01000 000
    Network:   10.10.10.72/29       00001010.00001010.00001010.01001 000
    Network:   10.10.10.80/29       00001010.00001010.00001010.01010 000
    Network:   10.10.10.88/29       00001010.00001010.00001010.01011 000
    Network:   10.10.10.96/29       00001010.00001010.00001010.01100 000
    Network:   10.10.10.104/29      00001010.00001010.00001010.01101 000
    Network:   10.10.10.112/29      00001010.00001010.00001010.01110 000
    Network:   10.10.10.120/29      00001010.00001010.00001010.01111 000
    Network:   10.10.10.128/29      00001010.00001010.00001010.10000 000
    Network:   10.10.10.136/29      00001010.00001010.00001010.10001 000
    Network:   10.10.10.144/29      00001010.00001010.00001010.10010 000
    Network:   10.10.10.152/29      00001010.00001010.00001010.10011 000
    Network:   10.10.10.160/29      00001010.00001010.00001010.10100 000
    Network:   10.10.10.168/29      00001010.00001010.00001010.10101 000
    Network:   10.10.10.176/29      00001010.00001010.00001010.10110 000
    Network:   10.10.10.184/29      00001010.00001010.00001010.10111 000
    Network:   10.10.10.192/29      00001010.00001010.00001010.11000 000
    Network:   10.10.10.200/29      00001010.00001010.00001010.11001 000
    Network:   10.10.10.208/29      00001010.00001010.00001010.11010 000
    Network:   10.10.10.216/29      00001010.00001010.00001010.11011 000
    Network:   10.10.10.224/29      00001010.00001010.00001010.11100 000
    Network:   10.10.10.232/29      00001010.00001010.00001010.11101 000
    Network:   10.10.10.240/29      00001010.00001010.00001010.11110 000
    Network:   10.10.10.248/29      00001010.00001010.00001010.11111 000

#### 6. Задача: вас попросили организовать стык между 2-мя организациями. Диапазоны `10.0.0.0/8`, `172.16.0.0/12`, `192.168.0.0/16` уже заняты. Из какой подсети допустимо взять частные IP адреса? Маску выберите из расчета максимум 40-50 хостов внутри подсети.
Carrier-Grade NAT 100.64.0.0/10

    vagrant@vagrant:~$ ipcalc 100.64.0.0/10 -s 50
    Address:   100.64.0.0           01100100.01 000000.00000000.00000000
    Netmask:   255.192.0.0 = 10     11111111.11 000000.00000000.00000000
    Wildcard:  0.63.255.255         00000000.00 111111.11111111.11111111
    =>
    Network:   100.64.0.0/10        01100100.01 000000.00000000.00000000
    HostMin:   100.64.0.1           01100100.01 000000.00000000.00000001
    HostMax:   100.127.255.254      01100100.01 111111.11111111.11111110
    Broadcast: 100.127.255.255      01100100.01 111111.11111111.11111111
    Hosts/Net: 4194302               Class A
    
    Requested size: 50 hosts
    Netmask:   255.255.255.192 = 26 11111111.11111111.11111111.11 000000
    Network:   100.64.0.0/26        01100100.01000000.00000000.00 000000
    HostMin:   100.64.0.1           01100100.01000000.00000000.00 000001
    HostMax:   100.64.0.62          01100100.01000000.00000000.00 111110
    Broadcast: 100.64.0.63          01100100.01000000.00000000.00 111111
    Hosts/Net: 62                    Class A
Для 50 хостов нужна подсеть `/26` на 64 адреса (62+2). Например, `100.64.0.0/26`.

#### 7. Как проверить ARP таблицу в Linux, Windows? Как очистить ARP кеш полностью? Как из ARP таблицы удалить только один нужный IP?
Linux: `ip neigh`, `ip neigh flush`, `ip neigh del $IP`  
Windows: `arp -a`, `arp -d *`, `arp -d $IP`

